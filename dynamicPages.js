(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[27],{667:function(e,t,a){"use strict";a.r(t),a.d(t,"site",(function(){return R}));var r=a(0),n=a(7),o=a(27),i=a(40),c=a(209),u=a(297),s=a(208),p=a(296),d=a(19),l=a(263),f=a(241),b=a(17),h=function(e){return/(^https?)|(^data)|(^blob)|(^\/\/)/.test(e)},_=function(e){return e.replace("./","").split("/")},g=function(e,t,a,r,n){var o=e.optionsData.bodyData,i=o.routerPrefix,c=o.config,u=o.pageRoles,s=function(e){return"/"+_(e).slice(1).join("/")}(t),p=""+r+i+s+a;return JSON.stringify({routerPrefix:i,routerSuffix:s,fullUrl:p,config:c,pageRoles:u,requestInfo:{formFactor:n}})},j=function(e,t,a,n,o,i){var c=e.urlData,u=c.url,s=c.appDefinitionId;return{url:function(e,t,a){var r=new URL(e);return r.searchParams.append(t,encodeURIComponent(a)),r.toString()}(u,"instance",a.getAppInstanceByAppDefId(s)),options:Object(r.a)(Object(r.a)({method:"POST",body:g(e,n,o,i,t),headers:e.optionsData.headers},e.optionsData.credentials?{credentials:e.optionsData.credentials}:{}),e.optionsData.mode?{mode:e.optionsData.mode}:{})}},O="__403__dp",v="__404__dp",D="__500__dp",w="__uknown_error__dp",m=function(e,t){return/^\/(.*)/.test(e)?"."+e:"./"+t+"/"+e},I=Object(n.h)([Object(n.f)(o.d,l.a),i.a,d.b,c.a,u.a,s.a,b.d,p.a],(function(e,t,a,n,o,i,c,u){var s=e.prefixToRouterFetchData,p=e.routerPagesSeoToIdMap,d=e.externalBaseUrl,b=e.viewMode,g=function(e,t,a){var r=function(e,t,a,r){if(h(e))return e;var n=m(e,a),o=new URL(n,t+"/");return o.search=r,o.toString()}(e,d,t,a.search);n.setHead('<meta http-equiv="refresh" content="0;url='+r+'" />')};return{handle:function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,I,U,R,x,y,P=this;return Object(r.d)(this,(function(S){switch(S.label){case 0:return!e.pageId&&e.relativeUrl&&e.parsedUrl?(F=e.relativeUrl,n=_(F)[0],(I=s[n])?[4,(k=i.getCurrentRouteInfo(),!u["specs.thunderbolt.dynamicPagesWarmupData"]||k?null:c.getWarmupData(l.a,{timeout:0}))]:p[n]?[2,Object(r.a)(Object(r.a)({},e),{pageId:v})]:[2,e]):[3,2];case 1:return(U=S.sent())?[2,Object(r.a)(Object(r.a)({},e),U)]:(R=j(I,b,a,e.relativeUrl,e.parsedUrl.search,d),x=R.url,y=R.options,[2,o.envFetch(x,y).then((function(a){return Object(r.b)(P,void 0,void 0,(function(){var o,i,c,u,s,p,d,l,b,_;return Object(r.d)(this,(function(j){switch(j.label){case 0:if(!a.ok)throw a;return[4,a.json()];case 1:return o=j.sent(),i=o.result,c=o.exception,u=i.page,s=i.data,p=i.head,d=i.tpaInnerRoute,l=i.publicData,(b=i.redirectUrl)?Object(f.e)(t)?(g(b,n,e.parsedUrl),[2,null]):(h(b)&&t.location.assign(b),[2,{redirectUrl:m(b,n)}]):[2,(_=function(e,t){var a=e.status,r=e.page,n=e.redirectUrl;return t?D:403===a?O:404===a?v:r||n?null:w}(i,c))?Object(r.a)(Object(r.a)({},e),{pageId:_}):Object(r.a)(Object(r.a)({},e),{pageId:u,dynamicRouteData:{pageData:s,pageHeadData:p,publicData:l,tpaInnerRoute:d}})]}}))}))})).catch((function(){return Object(f.e)(t)?null:Object(r.a)(Object(r.a)({},e),{pageId:D})}))]);case 2:return[2,e]}var k,F}))}))}}})),U=a(6),R=function(e){e(U.d.Dynamic).to(I)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/dynamicPages.2d0a330e.chunk.min.js.map